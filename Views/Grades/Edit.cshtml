@model lista_7.Models.Grade
@{
    ViewData["Title"] = "Edit";
}

<h1>Edit Grade</h1>
<div class="container border">
    <form method="post">
        <div class="text-danger" asp-validation-summary="ModelOnly"></div>
        @if (ViewData["Error"] != null)
        {
            <div class="text-danger">@ViewData["Error"]</div>
        }
        <input type="hidden" asp-for="Id"/>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="Number"></label>
            </div>
            <div class="col-6">
                <input asp-for="Number" class="form-control" />
                <span asp-validation-for="Number" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="Classification"></label>
            </div>
            <div class="col-6">
                <input asp-for="Classification" class="form-control" />
                <span asp-validation-for="Classification" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="Weight"></label>
            </div>
            <div class="col-6">
                <input asp-for="Weight" class="form-control" />
                <span asp-validation-for="Weight" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="Student"></label>
            </div>
            <div class="col-6">
                <select name="studentId" class="form-control">
                    @{
                        String students_idsstr = ViewData["StudentIds"].ToString();
                        String student_labelsstr = ViewData["StudentLabels"].ToString();
                        var students_ids = students_idsstr.Split(',');
                        var student_labels = student_labelsstr.Split(',');
                        for (int i = 0; i < students_ids.Length; i++)
                        {
                            if (student_labels[i] != "")
                            {
                                if(ViewData["SStudentId"].ToString() ==students_ids[i])
                                {
                                    <option selected value="@students_ids[i]">@student_labels[i]</option>
                                }
                                else
                                {
                                        <option value="@students_ids[i]"> @student_labels[i]</option>
                                }
                                
                            }
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="Teacher"></label>
            </div>
            <div class="col-6">
                <select name="teacherId" class="form-control">
                    @{
                        String teachers_idsstr = ViewData["TeacherIds"].ToString();
                        String teachers_labelsstr = ViewData["TeacherLabels"].ToString();
                        var teachers_ids = teachers_idsstr.Split(',');
                        var teachers_label = teachers_labelsstr.Split(',');
                        for (int i = 0; i < teachers_ids.Length; ++i)
                        {
                            if (teachers_label[i] != "")
                            {
                                if (ViewData["TTeacherId"].ToString() == teachers_ids[i])
                                {
                                    <option selected value="@teachers_ids[i]">@teachers_label[i]</option>
                                }
                                else
                                {
                                    <option value="@teachers_ids[i]"> @teachers_label[i]</option>
                                }
                            }
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="Subject"></label>
            </div>
            <div class="col-6">
                <select name="subjectId" class="form-control">
                    @{
                        String subjects_idsstr = ViewData["SubjectIds"].ToString();
                        String subjects_labelsstr = ViewData["SubjectLabels"].ToString();
                        var subjects_ids = subjects_idsstr.Split(',');
                        var subjects_label = subjects_labelsstr.Split(',');
                        for (int i = 0; i < subjects_ids.Length; ++i)
                        {
                            if (ViewData["SSubjectId"].ToString() == subjects_ids[i])
                            {
                                <option selected value="@subjects_ids[i]">@subjects_label[i]</option>
                            }
                            else
                            {
                                <option value="@subjects_ids[i]"> @subjects_label[i]</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-3">
                <label asp-for="gradeScale"></label>
            </div>
            <div class="col-6">
                <select name="scaleId" class="form-control">
                    @{
                        String scales_idsstr = ViewData["ScaleIds"].ToString();
                        String scales_labelsstr = ViewData["ScaleLabels"].ToString();
                        var scales_ids = scales_idsstr.Split(',');
                        var scales_label = scales_labelsstr.Split(',');
                        for (int i = 0; i < scales_ids.Length; ++i)
                        {
                            if (ViewData["SScaleId"].ToString() == scales_ids[i])
                            {
                                <option selected value="@scales_ids[i]">@scales_label[i]</option>
                            }
                            else
                            {
                                <option value="@scales_ids[i]"> @scales_label[i]</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col- offset-3">
                <input type="submit" value="Edit" class="btn btn-primary form-control" />
            </div>
        </div>
    </form>
</div>


@section Scripts{
    <partial name="_ValidationScriptsPartial" />
}
